# Описание изменений

## Добавлена система менеджеров

### Основные изменения:

1. **Новая роль пользователя - Менеджер**
   - Добавлена таблица `managers` в базе данных
   - Реализованы функции управления менеджерами (добавление/удаление)
   - Менеджеры имеют ограниченные права по сравнению с администраторами

2. **Панель менеджера (`/panel`)**
   - Команда `/panel` для доступа к панели менеджера
   - Поиск заказов по номеру
   - Изменение статусов заказов (Выдан, В обработке, Отменен)
   - Формирование отчетов по сессиям
   - Отклонение заказов

3. **Управление менеджерами в админ-панели**
   - Добавление новых менеджеров по ID пользователя
   - Просмотр списка всех менеджеров
   - Удаление менеджеров

4. **Новые файлы:**
   - `keyboards/manager.py` - клавиатуры для панели менеджера
   - `keyboards/managers_admin.py` - клавиатуры для управления менеджерами
   - `add_admin_manager.py` - скрипт для добавления администратора и менеджера
   - `reset_sessions_and_create_test.py` - скрипт для сброса сессий и создания тестовых данных
   - `BOT_DESCRIPTION.txt` - полное описание функционала бота

5. **Обновления в существующих модулях:**
   - `handlers/commands.py` - добавлен обработчик команды `/panel`
   - `handlers/callbacks.py` - добавлены обработчики для панели менеджера
   - `handlers/messages.py` - добавлена обработка поиска заказов менеджером
   - `database.py` - добавлены функции работы с менеджерами
   - `keyboards/admin.py` - добавлены кнопки управления менеджерами

6. **Улучшения безопасности:**
   - Менеджеры и администраторы не проходят регистрацию при первом запуске
   - Проверка прав доступа для всех функций менеджера
   - Маскировка данных при сканировании QR-кодов для обычных пользователей

7. **Документация:**
   - Обновлены файлы `DB.txt` и `FUN.txt` с описанием новых функций
   - Добавлен файл `BOT_DESCRIPTION.txt` с полным описанием работы бота

### Функционал менеджера:

- ✅ Поиск заказов по номеру
- ✅ Просмотр полной информации о заказах
- ✅ Изменение статусов заказов (Выдан, В обработке, Отменен)
- ✅ Отклонение заказов
- ✅ Формирование отчетов по сессиям
- ✅ Сканирование QR-кодов без маскировки данных
- ❌ Не может создавать/удалять сессии
- ❌ Не может добавлять/удалять товары
- ❌ Не может редактировать состав заказов
- ❌ Не может управлять администраторами

### Технические детали:

- Все функции менеджера интегрированы в существующую архитектуру бота
- Сохранена обратная совместимость со всеми существующими функциями
- Добавлена обработка ошибок и проверка прав доступа
- Обновлена документация базы данных и функций
