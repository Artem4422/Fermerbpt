–§–£–ù–ö–¶–ò–ò –ë–û–¢–ê - –û–ü–ò–°–ê–ù–ò–ï
========================

–ú–û–î–£–õ–¨: config.py
------------------

–§–£–ù–ö–¶–ò–Ø: (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
  - BOT_TOKEN - –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ú–û–î–£–õ–¨: database.py
--------------------

–§–£–ù–ö–¶–ò–Ø: init_database()
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ù–µ—Ç
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ù–∏—á–µ–≥–æ
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö bot_database.db –∏ —Ç–∞–±–ª–∏—Ü—ã users, admins, managers, sessions, products, settings, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç. –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ is_active –≤ —Ç–∞–±–ª–∏—Ü—É sessions, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º 0 (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π), –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞.

–§–£–ù–ö–¶–ò–Ø: save_or_update_user(user, chat_id: int)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user - –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram (–∏–∑ update.effective_user)
  - chat_id (int) - ID —á–∞—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ù–∏—á–µ–≥–æ
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –æ–±–Ω–æ–≤–ª—è–µ—Ç –µ–≥–æ –¥–∞–Ω–Ω—ã–µ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π. –ï—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å. –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ last_seen —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º.

–§–£–ù–ö–¶–ò–Ø: get_user_info(user_id: int) -> Optional[dict]
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ None, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
–û–ø–∏—Å–∞–Ω–∏–µ: –í—ã–ø–æ–ª–Ω—è–µ—Ç SELECT –∑–∞–ø—Ä–æ—Å –∫ —Ç–∞–±–ª–∏—Ü–µ users –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è.

–§–£–ù–ö–¶–ò–Ø: is_admin(user_id: int) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, False –µ—Å–ª–∏ –Ω–µ—Ç
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ admins.

–§–£–ù–ö–¶–ò–Ø: is_manager(user_id: int) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä, False –µ—Å–ª–∏ –Ω–µ—Ç
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ managers.

–§–£–ù–ö–¶–ò–Ø: add_admin(user_id: int) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω, False –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
–û–ø–∏—Å–∞–Ω–∏–µ: –î–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—É admins.

–§–£–ù–ö–¶–ò–Ø: remove_admin(user_id: int) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –£–¥–∞–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω, False –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
–û–ø–∏—Å–∞–Ω–∏–µ: –£–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã admins.

–§–£–ù–ö–¶–ò–Ø: add_manager(user_id: int) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª—è–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω, False –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
–û–ø–∏—Å–∞–Ω–∏–µ: –î–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—É managers.

–§–£–ù–ö–¶–ò–Ø: remove_manager(user_id: int) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –£–¥–∞–ª—è–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω, False –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
–û–ø–∏—Å–∞–Ω–∏–µ: –£–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã managers.

–§–£–ù–ö–¶–ò–Ø: add_session(session_name: str, created_by: int) -> Optional[int]
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - session_name (str) - –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏
  - created_by (int) - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, —Å–æ–∑–¥–∞—é—â–µ–≥–æ —Å–µ—Å—Å–∏—é
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: ID —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏ –∏–ª–∏ None –ø—Ä–∏ –æ—à–∏–±–∫–µ
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ sessions. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç None –µ—Å–ª–∏ —Å–µ—Å—Å–∏—è —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

–§–£–ù–ö–¶–ò–Ø: get_all_sessions() -> list
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ù–µ—Ç
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–µ—Å—Å–∏—è—Ö (session_id, session_name)
–û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å–µ—Å—Å–∏–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏).

–§–£–ù–ö–¶–ò–Ø: get_session(session_id: int) -> Optional[dict]
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Å—Å–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–µ—Å—Å–∏–∏ –∏–ª–∏ None, –µ—Å–ª–∏ —Å–µ—Å—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
–û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏ –ø–æ –µ—ë ID.

–§–£–ù–ö–¶–ò–Ø: add_product(session_id: int, product_name: str, price: float, boxes_count: int, created_by: int) -> Optional[int]
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏, –∫ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–≤–∞—Ä
  - product_name (str) - –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
  - price (float) - –¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞
  - boxes_count (int) - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—â–∏–∫–æ–≤
  - created_by (int) - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, —Å–æ–∑–¥–∞—é—â–µ–≥–æ —Ç–æ–≤–∞—Ä
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ None –ø—Ä–∏ –æ—à–∏–±–∫–µ
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ products –∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Ç–æ–≤–∞—Ä –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏.

–§–£–ù–ö–¶–ò–Ø: get_products_by_session(session_id: int) -> list
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —Å–µ—Å—Å–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–æ–≤–∞—Ä–∞—Ö (product_id, product_name, price, boxes_count)
–û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏).

–§–£–ù–ö–¶–ò–Ø: get_product(product_id: int) -> Optional[dict]
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - product_id (int) - ID —Ç–æ–≤–∞—Ä–∞
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ None, –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω
–û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ç–æ–≤–∞—Ä–µ –ø–æ –µ–≥–æ ID.

–§–£–ù–ö–¶–ò–Ø: delete_product(product_id: int) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –£–¥–∞–ª—è–µ—Ç —Ç–æ–≤–∞—Ä
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - product_id (int) - ID —Ç–æ–≤–∞—Ä–∞
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω, False –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
–û–ø–∏—Å–∞–Ω–∏–µ: –£–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å —Ç–æ–≤–∞—Ä–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã products –ø–æ –µ–≥–æ ID.

–§–£–ù–ö–¶–ò–Ø: set_limit_per_person(limit: int) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ª–∏–º–∏—Ç —è—â–∏–∫–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - limit (int) - –õ–∏–º–∏—Ç —è—â–∏–∫–æ–≤ (0 –æ–∑–Ω–∞—á–∞–µ—Ç –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ –ª–∏–º–∏—Ç —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, False –ø—Ä–∏ –æ—à–∏–±–∫–µ
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ settings —Å –∫–ª—é—á–æ–º 'limit_per_person'. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —è—â–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç –∫—É–ø–∏—Ç—å –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

–§–£–ù–ö–¶–ò–Ø: get_limit_per_person() -> int
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –ª–∏–º–∏—Ç —è—â–∏–∫–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ù–µ—Ç
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –õ–∏–º–∏—Ç —è—â–∏–∫–æ–≤ (0 –æ–∑–Ω–∞—á–∞–µ—Ç –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã settings —Å –∫–ª—é—á–æ–º 'limit_per_person'. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0.

–§–£–ù–ö–¶–ò–Ø: set_session_trading_status(session_id: int, is_active: bool) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
  - is_active (bool) - True –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏, False –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, False –ø—Ä–∏ –æ—à–∏–±–∫–µ
–û–ø–∏—Å–∞–Ω–∏–µ: –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ is_active –≤ —Ç–∞–±–ª–∏—Ü–µ sessions –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏. –ó–Ω–∞—á–µ–Ω–∏–µ 1 –æ–∑–Ω–∞—á–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é —Ç–æ—Ä–≥–æ–≤–ª—é, 0 - –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é.

–§–£–ù–ö–¶–ò–Ø: is_session_trading_active(session_id: int) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ —Ç–æ—Ä–≥–æ–≤–ª—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: True –µ—Å–ª–∏ —Ç–æ—Ä–≥–æ–≤–ª—è –∞–∫—Ç–∏–≤–Ω–∞, False –µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏–∑ –ø–æ–ª—è is_active —Ç–∞–±–ª–∏—Ü—ã sessions –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏. –ï—Å–ª–∏ —Å–µ—Å—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç False (—Ç–æ—Ä–≥–æ–≤–ª—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞).

–§–£–ù–ö–¶–ò–Ø: get_user_session_boxes_purchased(user_id: int, session_id: int) -> int
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö —è—â–∏–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ —Å–µ—Å—Å–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö —è—â–∏–∫–æ–≤ (0 –µ—Å–ª–∏ –Ω–µ –ø–æ–∫—É–ø–∞–ª)
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ boxes_purchased –∏–∑ —Ç–∞–±–ª–∏—Ü—ã user_session_limits –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–µ—Å—Å–∏–∏.

–§–£–ù–ö–¶–ò–Ø: get_user_available_boxes(user_id: int, session_id: int, product_id: int = None) -> int
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—â–∏–∫–æ–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ —Å–µ—Å—Å–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
  - product_id (int, optional) - ID —Ç–æ–≤–∞—Ä–∞ –¥–ª—è —É—á–µ—Ç–∞ –µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –î–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—â–∏–∫–æ–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏
–û–ø–∏—Å–∞–Ω–∏–µ: –í—ã—á–∏—Å–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–∫ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –ª–∏–º–∏—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —É–∂–µ –∫—É–ø–ª–µ–Ω–Ω—ã–º–∏ —è—â–∏–∫–∞–º–∏ –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω product_id, —Ç–∞–∫–∂–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—â–∏–∫–æ–≤ —Ç–æ–≤–∞—Ä–∞. –ï—Å–ª–∏ –ª–∏–º–∏—Ç = 0, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è—â–∏–∫–æ–≤ —Ç–æ–≤–∞—Ä–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω) –∏–ª–∏ –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π).

–§–£–ù–ö–¶–ò–Ø: generate_order_number() -> str
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ù–µ—Ç
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π 8-–∑–Ω–∞—á–Ω—ã–π –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
–û–ø–∏—Å–∞–Ω–∏–µ: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π 8-–∑–Ω–∞—á–Ω—ã–π –Ω–æ–º–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ orders. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞.

–§–£–ù–ö–¶–ò–Ø: create_order(user_id: int, session_id: int, phone_number: str, full_name: str, items: list) -> Optional[int]
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
  - phone_number (str) - –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
  - full_name (str) - –§–ò–û –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
  - items (list) - –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å —Ç–æ–≤–∞—Ä–∞–º–∏: [{'product_id': int, 'quantity': int, 'price': float}, ...]
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –∏–ª–∏ None –ø—Ä–∏ –æ—à–∏–±–∫–µ
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ –≤ —Ç–∞–±–ª–∏—Ü–µ orders —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º –∑–∞–∫–∞–∑–∞, –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤ order_items, —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è—â–∏–∫–æ–≤ —Ç–æ–≤–∞—Ä–∞ (boxes_count) –≤ —Ç–∞–±–ª–∏—Ü–µ products –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö —è—â–∏–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ user_session_limits.

–§–£–ù–ö–¶–ò–Ø: get_order(order_id: int) -> Optional[dict]
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - order_id (int) - ID –∑–∞–∫–∞–∑–∞
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–∫–∞–∑–∞ –∏–ª–∏ None, –µ—Å–ª–∏ –∑–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω
–û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã orders.

–§–£–ù–ö–¶–ò–Ø: get_order_items(order_id: int) -> list
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã –∑–∞–∫–∞–∑–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - order_id (int) - ID –∑–∞–∫–∞–∑–∞
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–æ–≤–∞—Ä–∞—Ö –∑–∞–∫–∞–∑–∞
–û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∑–∞–∫–∞–∑–∞ —Å –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏ —Ü–µ–Ω–∞–º–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã order_items.

–§–£–ù–ö–¶–ò–Ø: get_user_cart(user_id: int, session_id: int) -> list
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Å–µ—Å—Å–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - user_id (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∑–∞–∫–∞–∑–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏
–û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏).

–ú–û–î–£–õ–¨: handlers/commands.py
------------------------------

–§–£–ù–ö–¶–ò–Ø: start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - update (Update) - –æ–±—ä–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram API
  - context (ContextTypes.DEFAULT_TYPE) - –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ù–∏—á–µ–≥–æ
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ –ë–î —á–µ—Ä–µ–∑ database.save_or_update_user() –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü—Ä–∏–≤–µ—Ç, —è –±–æ—Ç-—Ñ–µ—Ä–º–µ—Ä, –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Ç–µ–±–µ!" —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π –∫–Ω–æ–ø–æ–∫ —Å–µ—Å—Å–∏–π (–µ—Å–ª–∏ —Å–µ—Å—Å–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç).

–§–£–ù–ö–¶–ò–Ø: help_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - update (Update) - –æ–±—ä–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram API
  - context (ContextTypes.DEFAULT_TYPE) - –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ù–∏—á–µ–≥–æ
–û–ø–∏—Å–∞–Ω–∏–µ: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞.

–§–£–ù–ö–¶–ò–Ø: status(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /status
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - update (Update) - –æ–±—ä–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram API
  - context (ContextTypes.DEFAULT_TYPE) - –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ù–∏—á–µ–≥–æ
–û–ø–∏—Å–∞–Ω–∏–µ: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞.

–§–£–ù–ö–¶–ò–Ø: admin_panel(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /admin
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - update (Update) - –æ–±—ä–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram API
  - context (ContextTypes.DEFAULT_TYPE) - –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ù–∏—á–µ–≥–æ
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç–∫–∞–∑–µ –≤ –¥–æ—Å—Ç—É–ø–µ.

–ú–û–î–£–õ–¨: handlers/callbacks.py
-------------------------------

–§–£–ù–ö–¶–ò–Ø: handle_admin_callback(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ callback –∫–Ω–æ–ø–æ–∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - update (Update) - –æ–±—ä–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram API
  - context (ContextTypes.DEFAULT_TYPE) - –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ù–∏—á–µ–≥–æ
–û–ø–∏—Å–∞–Ω–∏–µ: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ callback_data:
  - admin_add_session - –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Å—Å–∏—é (–∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–º—è —Å–µ—Å—Å–∏–∏)
  - admin_limit_per_person - –õ–∏–º–∏—Ç –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞ (–∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤–≤–æ–¥ –ª–∏–º–∏—Ç–∞)
  - admin_add_product - –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∞)
  - admin_select_session_add_product_{session_id} - –í—ã–±–æ—Ä —Å–µ—Å—Å–∏–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ (–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è)
  - admin_delete_product - –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∞)
  - admin_select_session_delete_product_{session_id} - –í—ã–±–æ—Ä —Å–µ—Å—Å–∏–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å–µ—Å—Å–∏–∏)
  - admin_select_product_delete_{product_id} - –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
  - admin_confirm_delete_{product_id} - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ (—É–¥–∞–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –∏–∑ –ë–î)
  - admin_delete_product - –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
  - admin_start_trading - –°—Ç–∞—Ä—Ç —Ç–æ—Ä–≥–∏ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∞)
  - admin_stop_trading - –°—Ç–æ–ø —Ç–æ—Ä–≥–∏ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∞)
  - admin_select_session_start_trading_{session_id} - –í—ã–±–æ—Ä —Å–µ—Å—Å–∏–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏ (–∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤–ª—é —á–µ—Ä–µ–∑ database.set_session_trading_status(session_id, True))
  - admin_select_session_stop_trading_{session_id} - –í—ã–±–æ—Ä —Å–µ—Å—Å–∏–∏ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ (–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤–ª—é —á–µ—Ä–µ–∑ database.set_session_trading_status(session_id, False))
  - admin_change_box_volume - –ò–∑–º–µ–Ω–∏—Ç—å –æ–±—ä–µ–º —è—â–∏–∫–∞
  - admin_change_order - –ò–∑–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑
  - admin_payment_status - –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã
  - admin_sales_status - –°—Ç–∞—Ç—É—Å –ø—Ä–æ–¥–∞–∂
  - admin_add_admin - –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - admin_remove_admin - –°–Ω—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - admin_add_manager - –î–æ–±–∞–≤–∏—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - admin_remove_manager - –°–Ω—è—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - admin_reports - –û—Ç—á–µ—Ç—ã
  - admin_close_session - –ó–∞–∫—Ä—ã—Ç—å —Å–µ—Å—Å–∏—é
  - admin_back - –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–∞–≤–Ω–æ–π –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
  - session_{session_id} - –í—ã–±–æ—Ä —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ database.is_session_trading_active(session_id). –ï—Å–ª–∏ —Ç–æ—Ä–≥–æ–≤–ª—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–¢–æ—Ä–≥–æ–≤–ª—è –∑–∞–∫—Ä—ã—Ç–∞". –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ –∫–Ω–æ–ø–∫—É "–ö–æ—Ä–∑–∏–Ω–∞")
  - product_{product_id} - –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ: —Ü–µ–Ω–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—â–∏–∫–æ–≤, –ª–∏–º–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫—É–ø–ª–µ–Ω–æ –≤ —Å–µ—Å—Å–∏–∏, –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –ø–æ–∫—É–ø–∫–∏. –ö–Ω–æ–ø–∫–∏ "–ö—É–ø–∏—Ç—å" –∏ "–ù–∞–∑–∞–¥ –∫ —Ç–æ–≤–∞—Ä–∞–º")
  - buy_{product_id} - –ù–∞—á–∞–ª–æ –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —è—â–∏–∫–æ–≤ —Å —É—á–µ—Ç–æ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏)
  - qty_{product_id}_{quantity} - –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —è—â–∏–∫–æ–≤ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –∫–Ω–æ–ø–∫—É "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞")
  - confirm_phone_{product_id}_{quantity} - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞)
  - cart_{session_id} - –ü–æ–∫–∞–∑ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Å–µ—Å—Å–∏–∏ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏)

–ú–û–î–£–õ–¨: handlers/messages.py
-----------------------------

–§–£–ù–ö–¶–ò–Ø: handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–µ –∫–æ–º–∞–Ω–¥)
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - update (Update) - –æ–±—ä–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram API
  - context (ContextTypes.DEFAULT_TYPE) - –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ù–∏—á–µ–≥–æ
–û–ø–∏—Å–∞–Ω–∏–µ: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è. 
  - –ï—Å–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞–∂–∞–ª "–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Å—Å–∏—é" –∏ –æ–∂–∏–¥–∞–µ—Ç—Å—è –∏–º—è —Å–µ—Å—Å–∏–∏ (context.user_data['waiting_for_session_name']), —Ç–æ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é —Å –≤–≤–µ–¥–µ–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º.
  - –ï—Å–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä (context.user_data['adding_product']), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –≤–≤–æ–¥:
    * step='name': —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ü–µ–Ω—É
    * step='price': —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ü–µ–Ω—É –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—â–∏–∫–æ–≤
    * step='boxes': —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—â–∏–∫–æ–≤ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –≤ –ë–î
  - –ï—Å–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ª–∏–º–∏—Ç –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞ (context.user_data['waiting_for_limit_per_person']), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–≤–æ–¥ —á–∏—Å–ª–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–∏–º–∏—Ç –≤ –ë–î —á–µ—Ä–µ–∑ database.set_limit_per_person().
  - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–≤–µ—Ä—à–∞–µ—Ç –ø–æ–∫—É–ø–∫—É (context.user_data['purchase']), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –≤–≤–æ–¥:
    * step='phone': —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –§–ò–û
    * step='full_name': —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –§–ò–û –∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ database.create_order(). –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º –∑–∞–∫–∞–∑–∞ –∏ –∫–Ω–æ–ø–∫—É "–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–∫—É–ø–∫–∞–º" –µ—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å –ª–∏–º–∏—Ç—ã.
  –ò–Ω–∞—á–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ö–æ-–æ—Ç–≤–µ—Ç —Å —Ç–µ–∫—Å—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–ú–û–î–£–õ–¨: keyboards/admin.py
----------------------------

–§–£–ù–ö–¶–ò–Ø: get_admin_keyboard() -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ù–µ—Ç
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å 16 –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –≤ 8 —Ä—è–¥–æ–≤ –ø–æ 2 –∫–Ω–æ–ø–∫–∏. –ü–µ—Ä–≤–∞—è –∫–Ω–æ–ø–∫–∞ - "–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Å—Å–∏—é" –≤–º–µ—Å—Ç–æ "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ".

–ú–û–î–£–õ–¨: keyboards/sessions.py
-------------------------------

–§–£–ù–ö–¶–ò–Ø: get_sessions_keyboard() -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Å–µ—Å—Å–∏–π
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ù–µ—Ç
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Å–µ—Å—Å–∏–π –∏–ª–∏ –ø—É—Å—Ç—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π –∏–∑ –ë–î –∏ —Å–æ–∑–¥–∞–µ—Ç inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Å–µ—Å—Å–∏–π (–ø–æ 2 –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥). –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –∏–º–µ–µ—Ç callback_data –≤–∏–¥–∞ "session_{session_id}".

–ú–û–î–£–õ–¨: keyboards/sessions_admin.py
------------------------------------

–§–£–ù–ö–¶–ò–Ø: get_sessions_keyboard_for_admin(action: str = "select") -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Å–µ—Å—Å–∏–π –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - action (str) - –î–µ–π—Å—Ç–≤–∏–µ, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–µ—Å—Å–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "add_product")
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Å–µ—Å—Å–∏–π –∏ –∫–Ω–æ–ø–∫–æ–π "–ù–∞–∑–∞–¥"
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π –∏–∑ –ë–î –∏ —Å–æ–∑–¥–∞–µ—Ç inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Å–µ—Å—Å–∏–π (–ø–æ 2 –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥). –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –∏–º–µ–µ—Ç callback_data –≤–∏–¥–∞ "admin_select_session_{action}_{session_id}". –í–Ω–∏–∑—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥".

–ú–û–î–£–õ–¨: keyboards/products.py
-------------------------------

–§–£–ù–ö–¶–ò–Ø: get_products_keyboard(session_id: int) -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —Å–µ—Å—Å–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∫–Ω–æ–ø–∫–æ–π "–ö–æ—Ä–∑–∏–Ω–∞"
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏ –∏–∑ –ë–î –∏ —Å–æ–∑–¥–∞–µ—Ç inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ (–ø–æ 2 –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥). –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏: "{product_name} - {price}‚ÇΩ". –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –∏–º–µ–µ—Ç callback_data –≤–∏–¥–∞ "product_{product_id}". –í–Ω–∏–∑—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "üõí –ö–æ—Ä–∑–∏–Ω–∞" —Å callback_data="cart_{session_id}".

–§–£–ù–ö–¶–ò–Ø: get_product_info_keyboard(product_id: int, session_id: int) -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–µ
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - product_id (int) - ID —Ç–æ–≤–∞—Ä–∞
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ö—É–ø–∏—Ç—å" –∏ "–ù–∞–∑–∞–¥ –∫ —Ç–æ–≤–∞—Ä–∞–º"
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –¥–≤—É–º—è –∫–Ω–æ–ø–∫–∞–º–∏: "üõí –ö—É–ø–∏—Ç—å" (callback_data="buy_{product_id}") –∏ "üîô –ù–∞–∑–∞–¥ –∫ —Ç–æ–≤–∞—Ä–∞–º" (callback_data="session_{session_id}").

–§–£–ù–ö–¶–ò–Ø: get_quantity_keyboard(product_id: int, max_quantity: int) -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —è—â–∏–∫–æ–≤
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - product_id (int) - ID —Ç–æ–≤–∞—Ä–∞
  - max_quantity (int) - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (1, 2, 3, 5, 10) –∏ –∫–Ω–æ–ø–∫–æ–π "–ù–∞–∑–∞–¥"
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —è—â–∏–∫–æ–≤. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (–Ω–µ –±–æ–ª—å—à–µ max_quantity). –ö–Ω–æ–ø–∫–∏ –∏–º–µ—é—Ç callback_data –≤–∏–¥–∞ "qty_{product_id}_{quantity}".

–§–£–ù–ö–¶–ò–Ø: get_confirm_phone_keyboard(product_id: int, quantity: int) -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - product_id (int) - ID —Ç–æ–≤–∞—Ä–∞
  - quantity (int) - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—â–∏–∫–æ–≤
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" –∏ "–ù–∞–∑–∞–¥"
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π "‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" (callback_data="confirm_phone_{product_id}_{quantity}") –∏ –∫–Ω–æ–ø–∫–æ–π "üîô –ù–∞–∑–∞–¥".

–ú–û–î–£–õ–¨: keyboards/products_admin.py
------------------------------------

–§–£–ù–ö–¶–ò–Ø: get_products_keyboard_for_admin(session_id: int, action: str = "delete") -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
  - action (str) - –î–µ–π—Å—Ç–≤–∏–µ, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Ç–æ–≤–∞—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, "delete")
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∫–Ω–æ–ø–∫–æ–π "–ù–∞–∑–∞–¥"
–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏ –∏–∑ –ë–î –∏ —Å–æ–∑–¥–∞–µ—Ç inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ (–ø–æ 2 –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥). –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏: "{product_name} - {price}‚ÇΩ". –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –∏–º–µ–µ—Ç callback_data –≤–∏–¥–∞ "admin_select_product_{action}_{product_id}". –í–Ω–∏–∑—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥".

–§–£–ù–ö–¶–ò–Ø: get_confirm_delete_keyboard(product_id: int) -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - product_id (int) - ID —Ç–æ–≤–∞—Ä–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–î–∞" –∏ "–ù–µ—Ç"
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –¥–≤—É–º—è –∫–Ω–æ–ø–∫–∞–º–∏: "–î–∞" (callback_data="admin_confirm_delete_{product_id}") –∏ "–ù–µ—Ç" (callback_data="admin_back").

–ú–û–î–£–õ–¨: keyboards/orders.py
-----------------------------

–§–£–ù–ö–¶–ò–Ø: get_back_to_products_keyboard(session_id: int) -> InlineKeyboardMarkup
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Ç–æ–≤–∞—Ä–∞–º
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - session_id (int) - ID —Å–µ—Å—Å–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: InlineKeyboardMarkup —Å –∫–Ω–æ–ø–∫–æ–π "–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–∫—É–ø–∫–∞–º"
–û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π "üõí –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–∫—É–ø–∫–∞–º" (callback_data="session_{session_id}"). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞, –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Å—Ç–∞–ª–∏—Å—å –ª–∏–º–∏—Ç—ã –¥–ª—è –ø–æ–∫—É–ø–æ–∫.

–ú–û–î–£–õ–¨: bot.py
--------------

–§–£–ù–ö–¶–ò–Ø: main() -> None
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ù–µ—Ç
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ù–∏—á–µ–≥–æ
–û–ø–∏—Å–∞–Ω–∏–µ: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Telegram –±–æ—Ç–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥, callback-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ polling.
